#import "@preview/codelst:2.0.2": sourcecode
#set text(font: "Meiryo UI")

#let date = datetime.today().display()
#set page(paper: "a4", margin: 1.5cm)

//ページ番号を設定
#set page(numbering: "1")

//表のキャプションを上に設定
#show figure.where(kind: table): set figure.caption(position: top)


#align(center, text(20pt)[
  //タイトル
  応用プログラミング 第5週課題 コンセプト設計書「Debris Dodger」
])

#align(center, text(12pt)[
  名前: 今泉志常 #h(1cm) 学籍番号: 202312328#h(1cm) 学類: 工学システム学類\
  提出日: #date
])

= 調査結果

== 候補となるベースプログラムの検討

最終課題の制作にあたり、Unity Learnで提供されているマイクロゲームを調査した。FPS Microgame、Platformer Microgame、Karting Microgameの3種類を比較検討した結果、2Dの横スクロールアクションが実装しやすいPlatformer Microgameをベースとして選定した。

Platformer Microgameは、プレイヤーキャラクターの移動、ジャンプ、アイテム取得、敵との衝突判定といった基本的なゲームメカニクスが既に実装されており、これらを改変することで独自のゲームを効率的に開発できると判断した。

== 参考ゲームの分析

強制スクロール系ゲームの代表例として「チャリ走」を分析した。チャリ走は自動で前進するキャラクターをジャンプ操作のみで制御し、障害物を避けながら距離を競うシンプルなゲームである。操作が単純でありながら、タイミングを計る緊張感と「もう少し先まで進みたい」というリプレイ性の高さが特徴である。

この分析から、シンプルな操作系と明確なゲームオーバー条件が中毒性の高いゲーム体験に繋がることを学んだ。

== 利用可能なアセットの調査

Unity Asset Storeにおいて、宇宙空間を表現するための背景素材や、デフォルメされた宇宙船のモデルが複数公開されていることを確認した。また、Platformer Microgameに含まれる既存のスプライトやエフェクトを改変して使用することも可能である。

= 課題設定

== ゲームタイトル

Debris Dodger

== UPS

限られたリソースで宇宙を生き延びる、深宇宙探査シミュレーション型アクションゲーム

== コンセプト概要

本作は、深宇宙を航行する探査衛星を操作し、宇宙デブリを回避しながらサンプルを収集するゲームである。チャリ走のような強制スクロール系ゲームをベースとしつつ、実際の衛星運用で重要となる姿勢制御と電力管理の要素を取り入れることで、独自性のあるゲーム体験を提供する。

プレイヤーは衛星の回転状態とバッテリー残量を常に意識しながら、適切なタイミングでスラスタを噴射してデブリを回避する必要がある。この複合的な判断要素が、単純な反射神経ゲームとは異なる戦略性を生み出す。

== 独自性と新規性

従来の強制スクロールゲームでは、プレイヤーの入力がキャラクターの動きに直接反映される。しかし本作では、衛星が常に回転しているため、スラスタの噴射方向が刻々と変化する。プレイヤーは「今の衛星の向き」を把握した上で噴射タイミングを決定しなければならない。

さらに、姿勢制御用の電気スラスタにはバッテリー消費があり、太陽電池パネルを太陽方向に向けることで充電効率が上がるという仕組みを導入する。これにより「デブリを避けたい」「アイテムを取りたい」「太陽に向けて充電したい」という3つの目標が同時に存在し、プレイヤーは常にトレードオフの判断を迫られる。

= システム設計

== 画面構成

横スクロール形式の2D画面を採用する。衛星は画面左側に位置し、右から左へデブリやアイテムが流れてくる。太陽は画面右上方向に固定され、太陽光の方向を示す視覚的な演出を加える。背景には星が流れる宇宙空間を描画する。

== プレイヤーキャラクター

デフォルメされた可愛らしい探査衛星をプレイヤーキャラクターとする。本体に太陽電池パネルが取り付けられており、衛星の回転に伴ってパネルの向きも変化する。スラスタ噴射時にはエフェクトを表示し、操作のフィードバックを明確にする。

== 操作系

プレイヤーは2種類のスラスタを操作する。

化学スラスタは並進移動用であり、ボタンを1回押すと一定量の推力が発生する。噴射方向は衛星の現在の姿勢に依存し、衛星が向いている方向と反対側に加速する。宇宙空間を模擬しているため、噴射後も慣性によって移動が継続する。

電気スラスタは姿勢制御用であり、ボタンを押している間は継続的に噴射される。左右のボタンに対応して時計回りまたは反時計回りに回転速度を変更できる。ただし電気スラスタの使用にはバッテリーを消費する。

== リソース管理

バッテリーは電気スラスタの使用によって消費される。バッテリーが枯渇すると姿勢制御が不可能となり、衛星は最後の回転状態を維持したまま回転し続ける。この状態でも化学スラスタは使用可能だが、噴射方向の制御が極めて困難となる。

バッテリーは太陽電池パネルによって充電される。太陽は画面右上に位置しており、パネルを太陽方向に向けている時間が長いほど充電効率が向上する。これにより、デブリ回避のための姿勢変更と、充電のための姿勢維持というジレンマが発生する。

== オブジェクト

=== デブリ

宇宙デブリは障害物として機能する。大小2種類のサイズを用意し、大きいデブリは回避が困難だが視認しやすく、小さいデブリは見落としやすいという特性を持たせる。デブリ自体も回転しながら飛来することで、視覚的な変化を与える。

開発に余裕があれば、速度の異なるデブリや、軌道が変化するデブリも実装を検討する。

=== アイテム

クリスタルは基本的な得点アイテムである。画面上に頻繁に出現し、取得することでスコアが加算される。

サンプルは高得点アイテムである。出現頻度は低いが、取得時のスコアはクリスタルより高く設定する。危険な位置に配置することで、リスクとリワードの選択をプレイヤーに促す。

== ゲームルール

=== 勝利条件と敗北条件

本作はハイスコアを目指すエンドレス型のゲームである。明確な勝利条件は存在せず、デブリに衝突した時点でゲームオーバーとなる。

=== スコア計算

スコアは進行距離とアイテム取得の合計で算出する。進行距離に応じて基本スコアが加算され、クリスタルやサンプルの取得によってボーナススコアが追加される。

=== 難易度上昇

ゲームの進行に伴い、スクロール速度の増加、デブリ出現頻度の増加、大型デブリの出現率増加、複数のデブリが同時に飛来するパターンの追加といった要素を組み合わせて難易度を上昇させる。

= 開発計画

== スケジュール

第6週はシステム設計の詳細化と基本的なプレイヤー移動の実装を行う。Platformer Microgameのキャラクター制御スクリプトを解析し、衛星の回転と慣性移動の仕組みに改変する。

第7週はαプロトタイプとして、衛星の操作とデブリ回避の基本ループを完成させる。バッテリー管理の仕組みも実装し、ゲームの核となる体験が成立するか検証する。

第8週はβプロトタイプとして、αプロトタイプでの評価結果を踏まえた改善を行う。アイテムの追加、難易度調整、視覚的な演出の強化を実施する。

第9週はプレゼンテーション動画の作成を行う。

第10週は最終レポートの作成を行う。

== 技術的な課題

衛星の回転と噴射方向の連動は、三角関数を用いた座標変換で実装する必要がある。また、慣性による移動の実装では、速度ベクトルの管理と画面端での処理を適切に行う必要がある。

バッテリー充電効率の計算では、太陽方向と太陽電池パネルの法線方向の内積を用いることで、角度に応じた充電量を算出する。

= まとめ

本企画書では、Platformer Microgameをベースとした強制スクロール型ゲーム「Debris Dodger」のコンセプト設計を行った。衛星の姿勢制御と電力管理という実際の宇宙機運用で重要となる要素をゲームメカニクスに取り入れることで、単純な反射神経ゲームとは異なる戦略性のあるゲーム体験を目指す。

限られた開発期間の中で、まずは核となるゲームループの実装を優先し、段階的に機能を追加していく方針で開発を進める。
